<div class="registro-container">
  <p-card header="Crear Cuenta" class="registro-card">
    <form [formGroup]="formularioRegistro" (ngSubmit)="registrarse()">
      
      <div class="p-field mb-3">
        <label for="name">Nombre Completo</label>
        <input 
          type="text"
          pInputText 
          id="name" 
          formControlName="name"
          placeholder="Juan Pérez"
          class="w-full"
          [class.ng-invalid]="formularioRegistro.get('name')?.invalid && formularioRegistro.get('name')?.touched"
        />
        <small class="p-error" *ngIf="formularioRegistro.get('name')?.invalid && formularioRegistro.get('name')?.touched">
          El nombre debe tener al menos 3 caracteres
        </small>
      </div>

      <div class="p-field mb-3">
        <label for="email">Correo Electrónico</label>
        <input 
          type="email"
          pInputText 
          id="email" 
          formControlName="email"
          placeholder="correo@ejemplo.com"
          class="w-full"
          [class.ng-invalid]="formularioRegistro.get('email')?.invalid && formularioRegistro.get('email')?.touched"
        />
        <small class="p-error" *ngIf="formularioRegistro.get('email')?.invalid && formularioRegistro.get('email')?.touched">
          Ingrese un correo válido
        </small>
      </div>

      <div class="p-field mb-3">
        <label for="password">Contraseña</label>
        <p-password 
          formControlName="password"
          [toggleMask]="true"
          [feedback]="false"
          placeholder="Mínimo 6 caracteres"
          styleClass="w-full"
          inputStyleClass="w-full"
        ></p-password>
        <small class="p-error" *ngIf="formularioRegistro.get('password')?.invalid && formularioRegistro.get('password')?.touched">
          La contraseña debe tener al menos 6 caracteres
        </small>
      </div>

      <p-message 
        *ngIf="mensajeError" 
        severity="error" 
        [text]="mensajeError"
        styleClass="mb-3 w-full"
      ></p-message>

      <p-message 
        *ngIf="mensajeExito" 
        severity="success" 
        [text]="mensajeExito"
        styleClass="mb-3 w-full"
      ></p-message>

      <p-button 
        type="submit" 
        label="Crear Cuenta"
        [loading]="cargando"
        [disabled]="formularioRegistro.invalid || cargando"
        styleClass="w-full mb-2"
      ></p-button>

      <p-button 
        type="button"
        label="Ya tengo cuenta"
        severity="secondary"
        [outlined]="true"
        (onClick)="irALogin()"
        styleClass="w-full"
      ></p-button>

    </form>
  </p-card>
</div>