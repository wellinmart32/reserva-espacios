<div class="login-container">
  <p-card header="Iniciar Sesión" class="login-card">
    <form [formGroup]="formularioLogin" (ngSubmit)="iniciarSesion()">
      
      <div class="p-field mb-3">
        <label for="email">Correo Electrónico</label>
        <input 
          type="email"
          pInputText 
          id="email" 
          formControlName="email"
          placeholder="correo@ejemplo.com"
          class="w-full"
          [class.ng-invalid]="formularioLogin.get('email')?.invalid && formularioLogin.get('email')?.touched"
        />
        <small class="p-error" *ngIf="formularioLogin.get('email')?.invalid && formularioLogin.get('email')?.touched">
          Ingrese un correo válido
        </small>
      </div>

      <div class="p-field mb-3">
        <label for="password">Contraseña</label>
        <p-password 
          formControlName="password"
          [toggleMask]="true"
          [feedback]="false"
          placeholder="Mínimo 6 caracteres"
          styleClass="w-full"
          inputStyleClass="w-full"
        ></p-password>
        <small class="p-error" *ngIf="formularioLogin.get('password')?.invalid && formularioLogin.get('password')?.touched">
          La contraseña debe tener al menos 6 caracteres
        </small>
      </div>

      <p-message 
        *ngIf="mensajeError" 
        severity="error" 
        [text]="mensajeError"
        styleClass="mb-3 w-full"
      ></p-message>

      <p-button 
        type="submit" 
        label="Iniciar Sesión"
        [loading]="cargando"
        [disabled]="formularioLogin.invalid || cargando"
        styleClass="w-full mb-2"
      ></p-button>

      <p-button 
        type="button"
        label="Crear Cuenta"
        severity="secondary"
        [outlined]="true"
        (onClick)="irARegistro()"
        styleClass="w-full"
      ></p-button>

    </form>
  </p-card>
</div>